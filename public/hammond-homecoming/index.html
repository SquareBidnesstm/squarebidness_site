<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Performance -->
  <link rel="preconnect" href="https://www.googletagmanager.com">
  <link rel="preconnect" href="https://www.google-analytics.com">

  <!-- GA4 (site-wide) -->
  <script defer src="/scripts/ga.js"></script>

  <!-- Basics -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hammond Homecoming Week — $20 SB Hats</title>
  <meta name="description" content="Hammond Homecoming Week pop-up. Grab the SB Homecoming Hat for $20 — limited quantities. Pull up and support!" />
  <link rel="canonical" href="https://www.squarebidness.com/hammond-homecoming/" />

  <!-- CSS -->
  <link rel="stylesheet" href="/styles/style.css" />

  <!-- Icons / PWA -->
  <link rel="icon" href="/favicon.ico" sizes="any" />
  <link rel="apple-touch-icon" href="/assets/icons/icon-180.png" />
  <link rel="manifest" href="/site.webmanifest" />
  <meta name="theme-color" content="#000000" />
  <meta name="mobile-web-app-capable" content="yes" />

  <!-- Open Graph / Social -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Square Bidness" />
  <meta property="og:title" content="Hammond Homecoming Week — $20 SB Hats" />
  <meta property="og:description" content="Limited run SB Homecoming Hat — only $20. Tap in, rep the culture." />
  <meta property="og:url" content="https://www.squarebidness.com/hammond-homecoming/" />
  <!-- Use a 1200×630 JPG you export from the HEIC -->
  <meta property="og:image" content="https://www.squarebidness.com/hammond-homecoming/assets/og-hoco.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="Square Bidness — Hammond Homecoming Week $20 Hats" />

  <!-- Twitter / X -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Hammond Homecoming Week — $20 SB Hats" />
  <meta name="twitter:description" content="Limited run SB Homecoming Hat — only $20. Tap in, rep the culture." />
  <meta name="twitter:image" content="https://www.squarebidness.com/hammond-homecoming/assets/og-hoco.jpg" />
  <meta name="twitter:site" content="@squarebidnesstm" />

  <!-- Organization JSON-LD (site-wide) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "@id":"https://www.squarebidness.com/#org",
    "name":"Square Bidness Apparel",
    "url":"https://www.squarebidness.com/",
    "logo":"https://www.squarebidness.com/assets/cleantextlogo.png",
    "sameAs":[
      "https://instagram.com/squarebidnesstm",
      "https://www.tiktok.com/@squarebidnesstm",
      "https://www.facebook.com/squarebidnessapparel",
      "https://bsky.app/profile/squarebidnesstm.bsky.social",
      "https://www.linkedin.com/company/square-bidness-apparel"
    ],
    "contactPoint":[{
      "@type":"ContactPoint",
      "contactType":"customer support",
      "email":"squarebidnessapparel@gmail.com",
      "areaServed":"US"
    }]
  }
  </script>

  <!-- Product JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Product",
    "@id":"https://www.squarebidness.com/hammond-homecoming/#product",
    "name":"SB Homecoming Hat",
    "description":"Limited run SB Hat for Hammond Homecoming Week. One size. $20.",
    "image":[
      "https://www.squarebidness.com/hammond-homecoming/assets/hat-1.jpg"
    ],
    "sku":"hoco-hat",
    "brand":{"@type":"Brand","name":"Square Bidness Apparel"},
    "url":"https://www.squarebidness.com/hammond-homecoming/",
    "hasMerchantReturnPolicy":{"@id":"https://www.squarebidness.com/returns/#policy"},
    "offers":{
      "@type":"Offer",
      "priceCurrency":"USD",
      "price":"20.00",
      "availability":"https://schema.org/InStock",
      "url":"https://www.squarebidness.com/hammond-homecoming/",
      "itemCondition":"https://schema.org/NewCondition",
      "seller":{"@type":"Organization","name":"Square Bidness Apparel, LLC"}
    }
  }
  </script>

  <style>
    .hoco-hero{
      position:relative;overflow:hidden;background:#0e0e0e;border-bottom:1px solid #1f1f1f
    }
    .hoco-hero__inner{display:grid;gap:1rem;align-items:center;grid-template-columns:1fr;max-width:1100px;margin:0 auto;padding:20px 16px}
    .hoco-hero__copy h1{font-size:2rem;margin:.2rem 0}
    .hoco-hero__copy p{opacity:.9}
    .hoco-badge{display:inline-block;background:#103713;color:#e7ffe7;border:1px solid #1e5c1e;border-radius:999px;font-weight:800;padding:.3rem .6rem;margin-bottom:.4rem}
    .hoco-hero__img img{width:100%;height:auto;border-radius:14px;border:1px solid #1f1f1f}
    .buybox{margin:1rem 0;padding:1rem;border:1px solid #1f1f1f;border-radius:12px;background:#0e0e0e}
    .buybox__row{display:grid;gap:.4rem;margin:.6rem 0}
    .buybox__label{font-weight:700}
    .buybox__select,.buybox__qty input{
      background:#0f0f0f;border:1px solid #2a2a2a;border-radius:10px;color:#eee;padding:.6rem .7rem
    }
    .buybox__qty{display:flex;gap:.4rem;align-items:center;max-width:180px}
    .qty-btn{width:2.2rem;height:2.2rem;border-radius:10px;border:1px solid #2a2a2a;background:#151515;color:#eee;font-size:1rem}
    .buybox__actions{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.75rem}
    .buybox__msg{margin:.5rem 0 0;opacity:.9}
    .gallery{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));margin-top:1rem}
    .gallery img{width:100%;height:100%;object-fit:cover;border-radius:12px;border:1px solid #1f1f1f}
    @media(min-width:900px){
      .hoco-hero__inner{grid-template-columns:1.1fr .9fr}
      .hoco-hero__copy h1{font-size:2.4rem}
    }
  </style>

  <!-- Nav/Footer loader -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      fetch("/nav/", { cache: "no-store" })
        .then(r => r.text())
        .then(d => { document.getElementById("nav-placeholder").innerHTML = d; })
        .catch(()=>{});
      fetch("/footer/", { cache: "no-store" })
        .then(r => r.text())
        .then(d => { document.getElementById("footer-placeholder").innerHTML = d; })
        .catch(()=>{});
    });
  </script>

  <!-- Cart core -->
  <script defer src="/scripts/sb-cart.js"></script>
</head>

<body class="theme-dark" id="top">
  <!-- NAV -->
  <div id="nav-placeholder"></div>

  <!-- HERO -->
  <header class="hoco-hero">
    <div class="hoco-hero__inner">
      <div class="hoco-hero__copy">
        <span class="hoco-badge">Hammond Homecoming Week</span>
        <h1>SB Homecoming Hat — <span style="color:#c9a227">$20</span></h1>
        <p>Rep the movement. Limited run hats for Homecoming Week. Pull up and support — once they’re gone, they’re gone.</p>

        <!-- Buy Box -->
        <section class="buybox"
          data-sku-base="hoco-hat"
          data-name="SB Homecoming Hat"
          data-price="20.00"
          data-image="/hammond-homecoming/assets/hat-1.jpg">

          <div class="buybox__row">
            <label for="color" class="buybox__label">Color</label>
            <select id="color" class="buybox__select" required>
              <option value="">Select color</option>
              <option value="green-gold">Green/Gold</option>
              <option value="black-gold">Black/Gold</option>
            </select>
          </div>

          <div class="buybox__row">
            <label for="qty" class="buybox__label">Quantity</label>
            <div class="buybox__qty">
              <button type="button" class="qty-btn" data-delta="-1" aria-label="Decrease quantity">−</button>
              <input id="qty" type="number" min="1" value="1" inputmode="numeric" />
              <button type="button" class="qty-btn" data-delta="1" aria-label="Increase quantity">+</button>
            </div>
          </div>

          <div class="buybox__actions">
            <button id="add-to-cart" class="btn btn--gold">Add to Cart — $20</button>
            <a class="btn btn--ghost" href="/shop/">Back to Shop</a>
          </div>

          <p id="buybox-msg" class="buybox__msg" role="status" aria-live="polite"></p>
        </section>
      </div>

      <div class="hoco-hero__img">
        <!-- Use a web-friendly JPG exported from your HEIC -->
        <img loading="lazy" decoding="async" src="/hammond-homecoming/assets/hero.jpg" alt="SB Homecoming Hat — Hammond Homecoming Week">
      </div>
    </div>
  </header>

  <main class="section">
    <div class="container">
      <div class="gallery">
        <img loading="lazy" src="/hammond-homecoming/assets/hat-1.jpg" alt="SB Hat detail 1">
        <img loading="lazy" src="/hammond-homecoming/assets/hat-2.jpg" alt="SB Hat detail 2">
        <img loading="lazy" src="/hammond-homecoming/assets/hat-3.jpg" alt="SB Hat on model">
      </div>

      <section style="margin-top:1rem">
        <h2>Details</h2>
        <ul>
          <li>One size (snapback)</li>
          <li>Embroidered SB mark</li>
          <li>Homecoming colorways</li>
          <li>Limited run — while supplies last</li>
        </ul>
        <p class="muted"><a href="/returns/">30-day returns on unworn items</a>. Need help? <a href="mailto:squarebidnessapparel@gmail.com">Email us</a>.</p>
      </section>
    </div>
  </main>

  <!-- FOOTER -->
  <div id="footer-placeholder"></div>

  <!-- Buybox JS -->
  <script>
  (function(){
    const box = document.querySelector('.buybox');
    if (!box) return;

    const els = {
      color: box.querySelector('#color'),
      qty: box.querySelector('#qty'),
      add: box.querySelector('#add-to-cart'),
      msg: box.querySelector('#buybox-msg')
    };

    // Quantity buttons
    box.querySelectorAll('.qty-btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const delta = Number(btn.getAttribute('data-delta')||0);
        const v = Math.max(1, (Number(els.qty.value)||1) + delta);
        els.qty.value = v;
      });
    });

    function toast(msg, ok=true){
      els.msg.textContent = msg;
      els.msg.style.color = ok ? '#9BEF9B' : '#ff9b9b';
    }

    async function addToCart(item){
      // Prefer your global cart helper
      if (window.SB?.cart?.add) return window.SB.cart.add(item);
      if (window.SB?.add)        return window.SB.add(item);
      if (window.SB_CART?.add)   return window.SB_CART.add(item);
      // Fallback: localStorage mini-cart
      try {
        const KEY = 'sb_cart_v1';
        const data = JSON.parse(localStorage.getItem(KEY) || '[]');
        const idx = data.findIndex(x => x.id === item.id);
        if (idx >= 0) data[idx].quantity += item.quantity;
        else data.push(item);
        localStorage.setItem(KEY, JSON.stringify(data));
      } catch(e) {}
    }

    els.add.addEventListener('click', async ()=>{
      const color = (els.color.value||'').trim();
      const qty   = Math.max(1, Number(els.qty.value)||1);
      if (!color) { toast('Please select a color.', false); els.color.focus(); return; }

      const base  = box.getAttribute('data-sku-base'); // hoco-hat
      const name  = box.getAttribute('data-name');
      const price = Number(box.getAttribute('data-price'));
      const image = box.getAttribute('data-image') || '';

      const id = `sb-${base}-${color}`; // sb-hoco-hat-green-gold

      const line = {
        id,
        sku: id,
        name: `${name} — ${color.replace('-', '/').toUpperCase()}`,
        price,
        quantity: qty,
        image,
        url: location.pathname,
        options: { color }
      };

      try {
        await addToCart(line);
        toast('Added to cart.');

        // GA4 add_to_cart
        if (typeof gtag === 'function') {
          gtag('event','add_to_cart',{
            currency: 'USD',
            value: price * qty,
            items: [{
              item_id: id,
              item_name: name,
              item_variant: color,
              price: price,
              quantity: qty
            }]
          });
        }

        // Optional: update cart badge
        const badge = document.querySelector('#cart-count');
        if (badge) {
          const current = Number(badge.textContent || '0') + qty;
          badge.textContent = current;
          badge.style.display = current > 0 ? 'inline-block' : 'none';
        }
      } catch(e){
        console.warn('Add to cart failed', e);
        toast('Could not add to cart. Try again.', false);
      }
    });

    // GA4 view_item on load
    try {
      window.dataLayer = window.dataLayer || [];
      window.dataLayer.push({
        event: 'view_item',
        ecommerce: {
          items: [{
            item_name: 'SB Homecoming Hat',
            item_id: 'hoco-hat',
            price: 20.00,
            item_category: 'Apparel > Accessories > Hats',
            item_brand: 'Square Bidness Apparel'
          }]
        }
      });
    } catch(_) {}
  })();
  </script>
</body>
</html>
