<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Puff’s Smokehouse — Order Pickup</title>
  <meta name="description" content="Order Puff’s Smokehouse plates and pickup on arrival. Turkey wings, ribs, neck bones, sides and more. Ponchatoula, LA." />
  <link rel="canonical" href="https://www.squarebidness.com/puffs/" />

  <!-- PWA / app metadata -->
  <link rel="manifest" href="/puffs/manifest.webmanifest" />
  <meta name="theme-color" content="#0b0b0b" />

  <!-- Icons / PWA (Puff’s) -->
  <link rel="icon" href="/puffs/icons/icon-192.png" type="image/png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/puffs/icons/icon-180.png" />

  <!-- Android/Chrome install support (modern replacement) -->
  <meta name="mobile-web-app-capable" content="yes" />

  <!-- iOS add-to-home support (still used on iPhone/iPad) -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="apple-mobile-web-app-title" content="Puff’s Smokehouse" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Puff’s Smokehouse" />
  <meta property="og:title" content="Puff’s Smokehouse — Order Pickup" />
  <meta property="og:description" content="Order online, pickup on arrival. Plates include two sides and bread (except pig feet). Ponchatoula, LA." />
  <meta property="og:url" content="https://www.squarebidness.com/puffs/" />
  <meta property="og:image" content="https://www.squarebidness.com/puffs/assets/puffs_hero_1200x630.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Puff’s Smokehouse — Order Pickup" />
  <meta name="twitter:description" content="Order online, pickup on arrival. Ponchatoula, LA." />
  <meta name="twitter:image" content="https://www.squarebidness.com/puffs/assets/puffs_hero_1200x630.jpg" />

  <style>
    :root{ --bg:#0b0b0b; --card:#111; --ink:#f7f7f7; --muted:#b9b9b9; --brand:#ff9f1a; --line:#232323; --accent:#ffd28a; --danger:#ff4d4d; }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,Segoe UI,Roboto,Arial}

    .wrap{max-width:1100px;margin:0 auto;padding:16px}

    /* ✅ HERO: no background image (prevents “second hero”) */
    header.hero{
      border-bottom:1px solid var(--line);
      background: linear-gradient(0deg,#000000b3 0%,#00000088 35%,#00000055 60%,#0000 100%);
    }
    header.hero .wrap{padding:14px 16px 10px}

    p.sub{margin:0;color:var(--muted)}
    .grid{display:grid;gap:16px;grid-template-columns:1.1fr .9fr}
    @media (max-width: 900px){.grid{grid-template-columns:1fr}}

    .card{background:var(--card);border:1px solid var(--line);border-radius:16px;overflow:hidden}
    .card h2{margin:0;font-size:1.1rem;padding:12px 14px;border-bottom:1px solid var(--line);background:rgba(255,159,26,.08)}
    .sect{padding:14px}
    .row{display:grid;grid-template-columns:1fr auto auto;gap:10px;align-items:center;padding:10px 0;border-bottom:1px dashed #222}
    .row:last-child{border-bottom:0}
    .price{opacity:.9;white-space:nowrap}
    .qty{display:flex;align-items:center;gap:6px}
    .qty button{width:28px;height:28px;border-radius:8px;border:1px solid #2a2a2a;background:#141414;color:#fff;cursor:pointer}
    .btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 14px;border-radius:12px;border:1px solid var(--line);color:#fff;text-decoration:none;cursor:pointer}
    .btn.primary{background:#fff;color:#000;font-weight:800}
    .muted{color:var(--muted)}
    .note{font-size:.85rem;color:var(--accent)}
    .pill{display:inline-block;padding:3px 8px;border-radius:999px;border:1px solid #333;font-size:.75rem;color:#ddd}
    .cartTotal{display:flex;justify-content:space-between;margin:6px 0}
    input, select, textarea{background:#0f0f0f;border:1px solid #2a2a2a;color:#fff;border-radius:10px;padding:10px 12px;width:100%}
    label{font-size:.9rem;color:#d5d5d5}
    .stack{display:grid;gap:10px}
    footer{color:#8b8b8b;border-top:1px solid var(--line);padding:18px 0;margin-top:18px;font-size:.9rem}
    .tiny{font-size:.85rem;color:#9b9b9b}

    .closedBanner{background:linear-gradient(90deg,#2a0000,#5a0000);color:#fff;border-bottom:1px solid #3a0a0a}
    .closedBanner .wrap{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;padding:10px 16px}
    .overlay{position:fixed;inset:0;background:#000a;backdrop-filter:blur(2px);display:none;align-items:center;justify-content:center;z-index:40}
    .overlay .box{background:#111;border:1px solid #2b2b2b;border-radius:16px;padding:18px;max-width:560px;margin:16px}
    .overlay h3{margin:0 0 6px}
    .disabled{opacity:.6;pointer-events:none}

    .owner{display:none;border-top:1px dashed #333;margin-top:12px;padding-top:12px}
    .owner label{display:flex;align-items:center;gap:8px}
    .owner input[type="checkbox"]{transform:scale(1.2)}
    .owner .rowBtns{display:flex;gap:10px;flex-wrap:wrap}
    .owner .signout{margin-left:auto}

    .specialsBar{background:linear-gradient(90deg,#2b210f,#1b1b1b);border-bottom:1px solid #3a2a0a}
    .specialsBar .wrap{padding:10px 16px;display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .specialsBadge{background:var(--brand);color:#000;font-weight:800;padding:4px 10px;border-radius:999px}
    .specialsText{color:#ffe7bf}

    /* ✅ ICON-SIZED HERO (top-left) */
    .hero-shell{
      display:flex;
      flex-direction:column;
      align-items:flex-start;
      gap:10px;
      width:auto;
      margin:0;
    }
    .hero-img{
      display:block;
      width:140px;
      height:auto;
      max-width:none;
      border-radius:20px;
      border:1px solid var(--line);
      background:#111;
    }
    @media (max-width: 480px){
      .hero-img{ width:120px; border-radius:18px; }
    }
  </style>
</head>

<body>
  <div id="closedBanner" class="closedBanner" style="display:none">
    <div class="wrap">
      <strong style="color:var(--accent)">Orders are currently CLOSED</strong>
      <span class="tiny">Please check back during open hours or call <a href="tel:+19859811777" style="color:#fff;text-decoration:underline">(985) 981-1777</a>.</span>
    </div>
  </div>

  <header class="hero">
    <div class="wrap">
      <div class="hero-shell">
        <picture>
          <source srcset="/puffs/assets/puffs_140.webp" type="image/webp" />
          <img
            src="/puffs/assets/puffs_140.png"
            alt="Puff’s Smokehouse"
            width="140"
            height="140"
            loading="eager"
            decoding="async"
            fetchpriority="high"
            class="hero-img"
          />
        </picture>

        <p class="sub">
          Order online — pick up when you arrive. Ponchatoula, LA ·
          <a
            href="https://www.google.com/maps/search/?api=1&query=Ponchatoula%2C%20LA%20Puff%27s%20Smokehouse"
            target="_blank"
            rel="noopener"
            style="color:#fff;text-decoration:underline"
          >Get directions</a>
          <span class="pill">Preview</span>
        </p>
      </div>
    </div>
  </header>

  <!-- Specials bar (hidden if no special text) -->
  <div id="specialsBar" class="specialsBar" style="display:none">
    <div class="wrap">
      <span class="specialsBadge">Today’s Special</span>
      <span id="specialsText" class="specialsText"></span>
    </div>
  </div>

  <main class="wrap grid">
    <section class="card" id="menu">
      <h2>Menu</h2>
      <div class="sect" id="menuContent"><!-- injected --></div>
    </section>

    <aside class="card">
      <h2>Your Order</h2>
      <div class="sect">
        <div id="cartLines" class="stack tiny" style="min-height:80px">No items yet.</div>
        <div class="cartTotal"><span class="muted">Subtotal</span><strong id="sub">$0.00</strong></div>
        <div class="cartTotal"><span class="muted">Tax (8.95%)</span><strong id="tax">$0.00</strong></div>
        <div class="cartTotal" style="border-top:1px solid #222;padding-top:6px"><span>Total</span><strong id="tot">$0.00</strong></div>

        <hr style="border:none;border-top:1px solid #222;margin:14px 0">

        <div class="stack">
          <label>Pickup time
            <select id="pickup">
              <option value="ASAP">ASAP</option>
              <option>In 15 minutes</option>
              <option>In 30 minutes</option>
              <option>Top of the hour</option>
            </select>
          </label>
          <label>Your name <input id="custName" placeholder="Name"></label>
          <label>Phone <input id="custPhone" placeholder="(xxx) xxx-xxxx"></label>
          <label>Notes (no onions, extra sauce, etc.) <textarea id="custNotes" rows="3"></textarea></label>
        </div>

        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:12px">
          <button class="btn primary" id="btnText">Text Order</button>
          <button class="btn" id="btnCopy">Copy Summary</button>
          <button class="btn" id="btnClear">Clear</button>
        </div>

        <p class="tiny" style="margin-top:10px">You’ll pay at pickup. Prices and availability subject to change. “Smoked Pig Feet Plate” available <strong>Sunday only</strong>.</p>

        <div id="ownerPanel" class="owner">
          <div class="rowBtns">
            <label><input type="checkbox" id="toggleClosed"> Mark orders CLOSED</label>
            <button class="btn signout" id="signOut">Sign out</button>
          </div>

          <div class="stack" style="margin-top:12px">
            <label for="ownerSpecials" style="display:block;font-weight:600">Today’s Special (shows in gold bar)</label>
            <textarea id="ownerSpecials" rows="3" placeholder="e.g., Friday: Wing Basket at First Street Park · $12 · 11am–3pm"></textarea>
            <div class="rowBtns">
              <button class="btn" id="saveSpecial">Save Special</button>
              <button class="btn" id="clearSpecial">Clear Special</button>
              <button class="btn" id="copyLink">Copy Promo Link</button>
            </div>
            <div class="tiny">Saved on this device. “Copy Promo Link” creates a shareable URL (adds <code>?special=...</code>) that shows the special for anyone who opens it.</div>
          </div>
        </div>
      </div>
    </aside>
  </main>

  <footer class="wrap">
    <div>
      © 2025 Puff’s Smokehouse ·
      <a href="tel:+19859811777" style="color:#fff;text-decoration:underline">(985) 981-1777</a>
      <span style="opacity:.5"> · </span>
      <a id="ownerLogin" href="/puffs/?owner=1&v=2" style="color:#fff;text-decoration:underline">Owner Login</a>
    </div>

    <p style="margin:.85rem 0 0;color:#6b7280;font-size:.85rem;line-height:1.5;">
      Powered by
      <a
        href="https://lab.squarebidness.com/linkme/"
        target="_blank"
        rel="noopener noreferrer"
        style="color:#ff9f1a;text-decoration:underline;font-weight:700;"
        aria-label="Powered by Square Bidness Tech Lab"
      >Square Bidness Tech Lab</a>
    </p>
  </footer>

  <div id="closedOverlay" class="overlay">
    <div class="box">
      <h3 style="color:var(--danger);margin-bottom:8px">Orders are closed</h3>
      <p class="tiny" style="margin:0 0 10px">Online ordering is currently unavailable. Please visit us during open hours or call <a href="tel:+19859811777" style="color:#fff;text-decoration:underline">(985) 981-1777</a>.</p>
      <button class="btn" id="overlayOk">OK</button>
    </div>
  </div>

  <!-- ✅ keep your existing scripts below this line (unchanged) -->
  <!-- (your big menu.json + cart script, owner link rewriter, SW register) -->
</body>
</html>
