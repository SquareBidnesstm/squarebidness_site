<!-- public/courageaux/book/index.html (v2 — iframe-safe fallback + auto-detect + always-works booking CTA) -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>Courageaux Aesthetics — Book Online</title>
  <meta name="description" content="Book online with Courageaux Aesthetics. If the embedded calendar doesn’t load, open the official booking page on GlossGenius." />
  <link rel="canonical" href="https://www.squarebidness.com/courageaux/book/" />

  <meta name="theme-color" content="#0b0b0b" />
  <meta name="color-scheme" content="dark light" />
  <meta name="robots" content="index,follow" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="sb:build" content="v20260213-courageaux-book-v2-embed-fallback" />

  <!-- Perf -->
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
  <link rel="preconnect" href="https://www.google-analytics.com" crossorigin>
  <link rel="preconnect" href="https://static.cloudflareinsights.com" crossorigin>

  <!-- Analytics -->
  <script defer src="/scripts/ga.js"></script>
  <script defer src="/scripts/sb-analytics.js"></script>

  <!-- Icons -->
  <link rel="icon" href="/courageaux/assets/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" sizes="32x32" href="/courageaux/assets/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/courageaux/assets/favicon-16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/courageaux/assets/icon_180.png">
  <link rel="manifest" href="/courageaux/manifest.webmanifest">

  <!-- Social -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Courageaux Aesthetics" />
  <meta property="og:title" content="Courageaux Aesthetics — Book Online" />
  <meta property="og:description" content="Book online with Courageaux Aesthetics. Official booking is managed securely through GlossGenius." />
  <meta property="og:url" content="https://www.squarebidness.com/courageaux/book/" />
  <meta property="og:image" content="https://www.squarebidness.com/courageaux/assets/courageaux_og_1200x630.jpg" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:image:alt" content="Courageaux Aesthetics — clean, calm, professional skin care in Hammond, Louisiana" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Courageaux Aesthetics — Book Online" />
  <meta name="twitter:description" content="Book online with Courageaux Aesthetics via GlossGenius." />
  <meta name="twitter:image" content="https://www.squarebidness.com/courageaux/assets/courageaux_og_1200x630.jpg" />

  <!-- ✅ Booking Page Schema -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@graph":[
      {
        "@type":"WebPage",
        "@id":"https://www.squarebidness.com/courageaux/book/#webpage",
        "url":"https://www.squarebidness.com/courageaux/book/",
        "name":"Courageaux Aesthetics — Book Online",
        "description":"Book online with Courageaux Aesthetics in Hammond, Louisiana. Official booking is handled through GlossGenius.",
        "inLanguage":"en-US",
        "about":{"@id":"https://www.squarebidness.com/courageaux/#business"},
        "primaryImageOfPage":{
          "@type":"ImageObject",
          "url":"https://www.squarebidness.com/courageaux/assets/courageaux_hero_1200x630.jpg",
          "width":1200,
          "height":630
        }
      }
    ]
  }
  </script>

  <style>
    :root{
      --bg:#0b0b0b; --fg:#fff; --muted:#bdbdbd;
      --soft:#121212; --stroke:#1f1f1f; --gold:#c9a227;
      --ok:#20c997;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:var(--bg);color:var(--fg);font-family:system-ui,Segoe UI,Roboto,Arial;line-height:1.5}
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:0 16px}

    /* Buttons */
    .btn{
      display:inline-flex;align-items:center;justify-content:center;gap:8px;
      padding:11px 16px;border-radius:12px;font-weight:950;border:1px solid transparent;white-space:nowrap;
      text-decoration:none;color:inherit;
      transition:transform .12s ease, opacity .12s ease, background .12s ease, border-color .12s ease;
    }
    .btn:active{transform: translateY(1px)}
    .btn--gold{background:var(--gold);color:#000;border-color:var(--gold)}
    .btn--ghost{background:#0f0f0f;color:#fff;border-color:#2a2a2a}
    @media (hover:hover){ .btn:hover{opacity:.93} }
    .btn:focus-visible{outline:3px solid rgba(201,162,39,.45); outline-offset:2px}

    /* Badge */
    .badge{
      display:inline-flex;align-items:center;gap:8px;
      background:#fff;color:#000;border-radius:999px;padding:6px 10px;
      font-weight:950;font-size:.82rem;letter-spacing:.02em;width:max-content;
      box-shadow:0 10px 30px rgba(0,0,0,.18);
    }
    .badge img{height:18px;width:18px;display:block}

    /* Top nav */
    .cx-topnav{
      position:sticky;top:0;z-index:50;
      border-bottom:1px solid var(--stroke);
      background:rgba(0,0,0,.55);
      backdrop-filter:blur(10px);
    }
    .cx-topnav__inner{
      max-width:1200px;margin:0 auto;padding:12px 16px;
      display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;
    }
    .cx-brand{
      display:inline-flex;align-items:center;gap:10px;text-decoration:none;color:inherit;font-weight:950;
      letter-spacing:-.01em;
    }
    .cx-brand img{
      width:22px;height:22px;border-radius:7px;border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.95);padding:2px;
    }
    .cx-links{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    .cx-pill{
      display:inline-flex;align-items:center;justify-content:center;
      padding:9px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.04);color:#f5f5f5;text-decoration:none;font-weight:950;font-size:.92rem;white-space:nowrap;
      transition: background .12s ease, border-color .12s ease, transform .12s ease;
    }
    .cx-pill:hover{background:rgba(255,255,255,.07);border-color:rgba(255,255,255,.22)}
    .cx-pill:active{transform: translateY(1px)}
    .cx-pill--gold{border-color:rgba(201,162,39,.85);background:rgba(201,162,39,.95);color:#000}

    /* Header */
    .hero{border-bottom:1px solid var(--stroke);padding:18px 0 16px}
    .mood-strip{
      height:8px;border-radius:999px;margin:12px 0 0;
      background:linear-gradient(90deg, rgba(201,162,39,.55), rgba(255,255,255,.10), rgba(201,162,39,.25));
      border:1px solid rgba(255,255,255,.10);
    }
    h1{margin:.6rem 0 .2rem;font-size:clamp(1.6rem,3.6vw,2.25rem);letter-spacing:-.01em}
    .sub{margin:0;color:#d7dae0;max-width:72ch}
    .row{margin-top:12px;display:flex;flex-wrap:wrap;gap:10px}

    /* Status strip */
    .cx-status{margin-top:10px;display:flex;flex-wrap:wrap;gap:8px;align-items:center}
    .cx-chip{
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.04);
      font-weight:900;font-size:.82rem;color:#f3f3f3;white-space:nowrap;line-height:1;
    }
    .cx-dot{width:8px;height:8px;border-radius:50%;background:#9aa3ad;box-shadow:0 0 0 3px rgba(255,255,255,.06) inset}
    .cx-dot--ok{background:var(--ok)}
    .cx-dot--warn{background:var(--gold)}
    .cx-chip strong{color:var(--gold)}

    /* Embed shell */
    main{padding:14px 0 0}
    .panel{
      margin:14px auto 18px;
      border:1px solid var(--stroke);
      border-radius:16px;
      overflow:hidden;
      background:#000;
    }

    /* Loading overlay (shown until iframe confirms "loaded") */
    .panel__loading{
      display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px;
      padding:26px 16px;
      border-bottom:1px solid var(--stroke);
      background:linear-gradient(180deg, #0b0b0b, #000);
      text-align:center;
    }
    .spinner{
      width:26px;height:26px;border-radius:999px;
      border:3px solid rgba(255,255,255,.18);
      border-top-color: rgba(201,162,39,.95);
      animation:spin .8s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg) } }
    .panel__loading p{margin:0;color:#d7dae0;max-width:70ch}
    .panel__loading small{color:var(--muted);max-width:70ch}

    iframe{
      width:100%;
      height:86vh;
      min-height:680px;
      border:0;
      display:block;
      background:#000;
    }

    /* Fallback callout */
    .fallback{
      display:none;
      border-top:1px solid var(--stroke);
      background:#0b0b0b;
      padding:16px;
    }
    .fallback .card{
      border:1px solid rgba(201,162,39,.35);
      background:rgba(201,162,39,.06);
      border-radius:14px;
      padding:14px;
    }
    .fallback h2{margin:0 0 6px;font-size:1.05rem;letter-spacing:-.01em}
    .fallback p{margin:0;color:#d7dae0}
    .fallback .actions{margin-top:12px;display:flex;flex-wrap:wrap;gap:10px}
    .fallback a{color:inherit}

    /* Footer */
    footer{
      background:#0b0b0b;
      border-top:1px solid var(--stroke);
      margin-top:0;
      padding:16px 0 26px;
    }
    .credit-strip{
      max-width:1200px;margin:0 auto;padding:10px 14px;
      border:1px solid var(--stroke);border-radius:12px;background:#0e0e0e;
      color:#d7dae0;text-align:center;font-size:.88rem;line-height:1.6;
    }
    .credit-strip a{color:var(--gold);text-decoration:underline;font-weight:950;text-underline-offset:3px}
  </style>
</head>

<body>
  <!-- Standard Topnav -->
  <nav class="cx-topnav" aria-label="Courageaux navigation">
    <div class="cx-topnav__inner">
      <a class="cx-brand" href="/courageaux/">
        <img src="/courageaux/assets/icon_courageaux_512.png" alt="Courageaux Aesthetics" width="22" height="22" loading="eager" decoding="async">
        Courageaux Aesthetics
      </a>

      <div class="cx-links">
        <a class="cx-pill cx-pill--gold" href="https://courageauxaesthetics.glossgenius.com/services" target="_blank" rel="noopener noreferrer">Book</a>
        <a class="cx-pill" href="/courageaux/services-preview/">Services</a>
        <a class="cx-pill" href="/courageaux/consultation/">Consultation</a>
        <a class="cx-pill" href="/courageaux/appointments/">Appointments</a>
        <a class="cx-pill" href="/courageaux/her-words/">Her Words</a>
        <a class="cx-pill" href="/courageaux/products/">Products</a>
        <a class="cx-pill" href="https://instagram.com/courageuxaesthetics" target="_blank" rel="me noopener noreferrer">Instagram</a>
      </div>
    </div>
  </nav>

  <header class="hero">
    <div class="container">
      <span class="badge">
        <img src="/courageaux/assets/logo_courageaux_black_400.png" alt="Courageaux Aesthetics logo" width="18" height="18" loading="eager" decoding="async">
        Courageaux Aesthetics · Book
      </span>

      <h1>Book online.</h1>
      <p class="sub">
        Booking is managed securely through GlossGenius. If the calendar doesn’t load here,
        use “Open booking” to book directly on the official page.
      </p>

      <div class="cx-status" aria-label="Booking status">
        <div class="cx-chip" title="Live booking is handled on GlossGenius">
          <span class="cx-dot cx-dot--ok" aria-hidden="true"></span>
          <strong>LIVE</strong> · GlossGenius
        </div>
        <div class="cx-chip" title="Some devices block third-party booking embeds">
          <span class="cx-dot cx-dot--warn" aria-hidden="true"></span>
          <strong>NOTE</strong> · Embed may be blocked
        </div>
      </div>

      <div class="row">
        <a class="btn btn--gold" href="https://courageauxaesthetics.glossgenius.com/services" target="_blank" rel="noopener noreferrer">Open booking</a>
        <a class="btn btn--ghost" href="/courageaux/appointments/">⟵ Back to Appointments</a>
        <a class="btn btn--ghost" href="/courageaux/intake/">Client Intake</a>
      </div>

      <div class="mood-strip" aria-hidden="true"></div>
    </div>
  </header>

  <main class="container">
    <div class="panel" aria-label="GlossGenius booking embed">
      <!-- Loading / status -->
      <div class="panel__loading" id="embedLoading">
        <div class="spinner" aria-hidden="true"></div>
        <p><strong>Loading booking…</strong></p>
        <small>
          If this stays stuck, your browser is blocking embedded booking (common on iPhone/Safari or with privacy settings).
          Use <strong>Open booking</strong> above.
        </small>
      </div>

      <!-- The embed (may be blocked by GG headers; that’s why we fallback) -->
      <iframe
        id="ggFrame"
        title="Courageaux Aesthetics booking (GlossGenius)"
        src="https://courageauxaesthetics.glossgenius.com/services"
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
        sandbox="allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox"
      ></iframe>

      <!-- Fallback message (shown if blocked or times out) -->
      <div class="fallback" id="embedFallback" role="status" aria-live="polite">
        <div class="card">
          <h2>Booking embed blocked on this device.</h2>
          <p>
            No problem — booking is still live. Tap below to open the official GlossGenius booking page.
          </p>
          <div class="actions">
            <a class="btn btn--gold" href="https://courageauxaesthetics.glossgenius.com/services" target="_blank" rel="noopener noreferrer">
              Open booking on GlossGenius
            </a>
            <a class="btn btn--ghost" href="/courageaux/">Back to Courageaux</a>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="credit-strip">
      © <span id="year"></span> Courageaux Aesthetics · Site support by
      <a href="https://lab.squarebidness.com/" target="_blank" rel="noopener noreferrer">Square Bidness Tech Lab</a>
      · <a href="/courageaux/">Back to Courageaux</a>
    </div>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    (function(){
      const frame = document.getElementById('ggFrame');
      const loading = document.getElementById('embedLoading');
      const fallback = document.getElementById('embedFallback');

      function show(el){ if(el) el.style.display = 'block'; }
      function hide(el){ if(el) el.style.display = 'none'; }

      // Default: show loading. If iframe truly loads, hide loading + fallback.
      let loaded = false;

      frame.addEventListener('load', function(){
        loaded = true;
        hide(loading);
        hide(fallback);
      });

      // If it doesn't load within X ms, assume blocked and show fallback.
      // (When GG blocks iframes, some browsers never fire load OR they show an error page.)
      setTimeout(function(){
        if (!loaded) {
          hide(loading);
          show(fallback);
        }
      }, 2800);

      // If iframe throws a hard error (rare), show fallback.
      frame.addEventListener('error', function(){
        hide(loading);
        show(fallback);
      });

      // If user comes back to tab and still not loaded, reveal fallback.
      document.addEventListener('visibilitychange', function(){
        if (!loaded && document.visibilityState === 'visible') {
          // don't be aggressive, but ensure user sees the path
          show(fallback);
        }
      });
    })();
  </script>
</body>
</html>
