<!-- /nav/index.html -->
<header class="site-header">
  <div class="container nav-inner" style="display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:.75rem 0;">
    
    <!-- Brand / Home -->
    <a href="/" class="brand" style="font-weight:800;line-height:1;display:flex;align-items:center;gap:.5rem;color:#fff;text-decoration:none;">
      <img src="/assets/cleantextlogo.png"
           alt="Square Bidness"
           style="height:32px;width:auto;object-fit:contain;">
      <span class="sr-only">Square Bidness</span>
    </a>

    <!-- Nav links -->
    <nav class="main-nav" aria-label="Main Navigation">
      <ul style="display:flex;flex-wrap:wrap;gap:1rem;align-items:center;margin:0;padding:0;list-style:none;">
        <li>
          <a href="/" class="main-nav__link" style="color:#fff;text-decoration:none;font-weight:600;">
            Home
          </a>
        </li>

        <li>
          <a href="/collections/" class="main-nav__link" style="color:#fff;text-decoration:none;font-weight:600;">
            Collections
          </a>
        </li>

        <li>
          <a href="/courageaux/" class="main-nav__link" style="color:#fff;text-decoration:none;font-weight:600;">
            Courageaux
          </a>
        </li>
      </ul>
    </nav>
  </div>

  <style>
    .site-header{
      background:#000;
      border-bottom:1px solid #1f1f1f;
    }
    @media(max-width:480px){
      .main-nav__link{font-size:.9rem;}
    }
    .main-nav a.active{
      color:#c9a227;
      text-decoration:underline;
      text-underline-offset:3px;
    }
  </style>

  <script>
    (function(){
      // normalize current path like "/shop/"
      const here = location.pathname.replace(/\/+$/,'/') || '/';

      // add "active" state to current page link
      document.querySelectorAll('.main-nav a').forEach(a=>{
        const href = a.getAttribute('href') || '';
        if (!href) return;
        const norm = href.replace(/\/+$/,'/') || '/';

        // rule:
        // - if link is "/" then only match homepage
        // - else highlight if current path starts with link path
        const isHome  = norm === '/';
        const isMatch = isHome ? (here === '/') : here.startsWith(norm);

        if (isMatch) {
          a.classList.add('active');
          a.setAttribute('aria-current','page');
        }
      });
    })();
  </script>
</header>
