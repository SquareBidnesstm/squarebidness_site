<!DOCTYPE html>
<html lang="en">
<head>
  <!--
  QUICK FIX NOTES
  - On Vercel, files in /public are served from "/" — do NOT prefix URLs with "/public".
  - Move images to: public/assets/...  → reference as: /assets/...
  - Move JS to:     public/scripts/... → reference as: /scripts/...
  - Keep products.json at public/products.json → fetch("/products.json")
  -->

  <!-- Page basics -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Square Bidness – Home</title>
  <meta name="description" content="Veteran-owned Louisiana lifestyle brand. Apparel built on principles, morals, and business done right. Shop the VSOP Collection." />
  <link rel="canonical" href="https://www.squarebidness.com/" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Square Bidness" />
  <meta property="og:title" content="Square Bidness — Principles. Morals. Business Done Right." />
  <meta property="og:description" content="Veteran-owned Louisiana lifestyle brand. Apparel built on principles, morals, and business done right." />
  <meta property="og:url" content="https://www.squarebidness.com/" />
  <meta property="og:image" content="https://www.squarebidness.com/assets/sb-social-card_1200.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="Square Bidness - Principles. Morals. Business Done Right." />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@squarebidnesstm" />
  <meta name="twitter:title" content="Square Bidness — Principles. Morals. Business Done Right." />
  <meta name="twitter:description" content="Veteran-owned Louisiana lifestyle brand. Apparel built on principles, morals, and business done right." />
  <meta name="twitter:image" content="https://www.squarebidness.com/assets/sb-social-card_1200.jpg" />

  <!-- Perf -->
  <link rel="preconnect" href="https://www.googletagmanager.com">
  <link rel="preconnect" href="https://www.google-analytics.com">

  <!-- Global CSS (root) -->
  <link rel="stylesheet" href="/styles/style.css" />

  <!-- Icons / PWA -->
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="apple-touch-icon" href="/assets/icons/icon-180.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
  <meta name="theme-color" content="#000000">

  <!-- Org JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "@id": "https://www.squarebidness.com/#org",
    "name":"Square Bidness Apparel",
    "url":"https://www.squarebidness.com/",
    "logo":"https://www.squarebidness.com/assets/cleantextlogo.png",
    "sameAs":[
      "https://instagram.com/squarebidnesstm",
      "https://www.tiktok.com/@squarebidnesstm",
      "https://www.facebook.com/squarebidnessapparel",
      "https://bsky.app/profile/squarebidnesstm.bsky.social",
      "https://www.linkedin.com/company/square-bidness-apparel"
    ],
    "contactPoint":[
      {
        "@type":"ContactPoint",
        "contactType":"customer support",
        "email":"squarebidnessapparel@gmail.com",
        "areaServed":"US"
      }
    ]
  }
  </script>

  <!-- Site scripts (served from /public/scripts as /scripts) -->
  <script defer src="/scripts/ga.js"></script>
  <script defer src="/scripts/sb-cart.js"></script>
  <script defer src="/scripts/global.js"></script>

  <!-- Page-specific styles (you can move to style.css later) -->
  <style>
    .sb-banner {
      background:#800020;
      color:#FFD700;
      text-align:center;
      padding:.6rem 1rem;
      font-weight:700;
      border-bottom:1px solid rgba(255,215,0,.2);
    }
    .sb-banner a { color:#fff; text-decoration:underline; }
    .hero__inner { display:grid; gap:1rem; }
    @media(min-width:768px){ .hero__inner{ grid-template-columns:1fr 1fr; align-items:center; } }
    .hero__media img { width:100%; border-radius:12px; border:1px solid #1f1f1f; background:#0f0f0f; }
    .cta-row { display:flex; gap:.5rem; flex-wrap:wrap; }
    .vsop-grid { display:grid; gap:1rem; }
    @media(min-width:768px){ .vsop-grid{ grid-template-columns:repeat(3,1fr); } }
    .card{ background:#0e0e0e; border:1px solid #1f1f1f; border-radius:12px; overflow:hidden; display:flex; flex-direction:column; }
    .card__media{ position:relative; }
    .card__media img{ width:100%; display:block; }
    .badge{ position:absolute; top:.5rem; left:.5rem; background:#800020; color:#FFD700; padding:.3rem .5rem; border-radius:8px; font-size:.75rem; font-weight:700; }
    .card__content{ padding:.75rem .75rem 0; }
    .card__actions{ padding:.75rem; display:flex; gap:.5rem; flex-wrap:wrap; }
  </style>
</head>

<body class="theme-dark" id="top">
  <!-- Announcement -->
  <div class="sb-banner">
    VSOP Preorders Live Now →
    <a href="/vsop/" rel="noopener">squarebidness.com/vsop</a>
  </div>

  <!-- NAV SLOT -->
  <div id="nav-placeholder"></div>

  <!-- HERO -->
  <header class="hero hero--dark">
    <div class="container hero__inner">
      <picture class="hero__media" aria-hidden="true">
        <!-- was /public/assets/hero.jpg -->
        <img loading="lazy" src="/public/assets/hero.jpg" alt="">
      </picture>
      <div class="hero__copy">
        <h1 class="brand">Square Bidness</h1>
        <p class="tagline">Principles. Morals. Business Done Right.</p>
        <div class="cta-row">
          <a class="btn btn--gold" href="/vsop/">Shop VSOP</a>
          <a class="btn btn--ghost" href="#story">Learn More</a>
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- VSOP FEATURE -->
    <section class="section section--band" id="vsop">
      <div class="container">
        <h2 class="section__title">VSOP Collection — Fall 2025</h2>
        <p class="section__lead">Burgundy + Brown. Hooded jacket and matching shorts. All embroidered.</p>

        <div class="vsop-grid">
          <article class="card" data-product-id="vsop-jacket">
            <div class="card__media">
              <img src="/assets/vsop-jacket.jpg" alt="VSOP embroidered hooded jacket in burgundy and brown">
              <span class="badge">Preorder Now</span>
            </div>
            <div class="card__content">
              <h3>VSOP Hooded Jacket</h3>
              <p class="card__description">Premium fabric. Embroidered. Louisiana to NYC energy.</p>
              <p class="price">$129.99</p>
            </div>
            <div class="card__actions">
              <a class="btn btn--gold btn--primary" href="/product-vsop-jacket/">Preorder Now</a>
              <a class="btn btn--ghost btn--secondary" href="/product-vsop-jacket/">View Details</a>
            </div>
          </article>

          <article class="card" data-product-id="vsop-shorts">
            <div class="card__media">
              <img src="/assets/vsop-shorts.jpg" alt="VSOP matching shorts in burgundy and brown">
              <span class="badge">Preorder Now</span>
            </div>
            <div class="card__content">
              <h3>VSOP Shorts</h3>
              <p class="card__description">Embroidery hit. Athletic fit. Matches the jacket.</p>
              <p class="price">$89.99</p>
            </div>
            <div class="card__actions">
              <a class="btn btn--gold btn--primary" href="/product-vsop-shorts/">Preorder Now</a>
              <a class="btn btn--ghost btn--secondary" href="/product-vsop-shorts/">View Details</a>
            </div>
          </article>

          <article class="card">
            <div class="card__media">
              <!-- was /public/assets/vsop-hero.jpg -->
              <img src="/assets/vsop-hero.jpg" alt="VSOP look — jacket with matching shorts">
            </div>
            <div class="card__content">
              <h3>Full VSOP Look</h3>
              <p class="card__description">Complete the set — jacket + shorts.</p>
            </div>
            <div class="card__actions">
              <a class="btn btn--gold btn--primary" href="/collection-vsop/">Preorder Collection</a>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- STORY -->
    <section class="section" id="story">
      <div class="container">
        <h2 class="section__title">The Square Bidness Way</h2>
        <p class="section__lead">Veteran-owned. American-first tech + manufacturing. Louisiana roots. Global motion.</p>
        <div class="section__cta">
          <a class="btn btn--ghost" href="/community/">See Community Work</a>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER SLOT -->
  <div id="footer-placeholder"></div>

  <!-- Product hydration (expects public/products.json) -->
  <script>
  fetch("/products.json", { cache: "no-store" })
    .then(r => r.ok ? r.json() : null)
    .then(data => {
      if (!data) return;
      document.querySelectorAll("[data-product-id]").forEach(card => {
        const id = card.getAttribute("data-product-id");
        const p  = data[id];
        if (!p) return;
        const title = card.querySelector("h3");
        const desc  = card.querySelector(".card__description");
        const img   = card.querySelector("img");
        const price = card.querySelector(".price");
        if (title && p.name) title.textContent = p.name;
        if (desc && p.desc) desc.textContent = p.desc;
        if (img && p.image) img.src = p.image;
        if (price && typeof p.price === "number") price.textContent = `$${p.price.toFixed(2)}`;
      });
    })
    .catch(() => {});
  </script>

  <!-- NAV + FOOTER loader (served from /public/nav and /public/footer) -->
<script>
(async () => {
  const bust = `?v=${Date.now()}`;

  async function fetchFirstAvailable(urls) {
    for (const u of urls) {
      try {
        const res = await fetch(u + bust, { credentials: 'same-origin', cache: 'no-store' });
        if (res.ok) return res.text();
        console.warn('[partials] not ok:', u, res.status);
      } catch (err) {
        console.warn('[partials] fetch fail:', u, err);
      }
    }
    return null;
  }

  async function injectPartial(urlCandidates, targetId) {
    const html = await fetchFirstAvailable(urlCandidates);
    const el = document.getElementById(targetId);
    if (!el) {
      console.warn('[partials] missing target:', targetId);
      return null;
    }
    if (!html) {
      console.warn('[partials] no partial loaded for', targetId);
      return null;
    }
    el.innerHTML = html;
    el.classList.add('fade-in');
    return el;
  }

  // NAV (try both paths just in case)
  const navEl = await injectPartial(
    ['/nav/index.html', '/public/nav/index.html'],
    'nav-placeholder'
  );

  // highlight current
  if (navEl) {
    const current = location.pathname.replace(/\/+$/, '') || '/';
    navEl.querySelectorAll('a[href]').forEach(a => {
      try {
        const href = new URL(a.getAttribute('href'), location.origin).pathname.replace(/\/+$/, '') || '/';
        if (href === current || (href !== '/' && current.startsWith(href))) {
          a.classList.add('is-active');
          a.setAttribute('aria-current', 'page');
        }
      } catch (_) {}
    });
  }

  // FOOTER (try both paths)
  await injectPartial(
    ['/footer/index.html', '/public/footer/index.html'],
    'footer-placeholder'
  );
})();
</script>


  <script>
  document.addEventListener('click', (e) => {
    const a = e.target.closest('a[href="/vsop/"]');
    if (!a) return;
    try { if (typeof gtag === 'function') {
      gtag('event','click',{event_category:'nav',event_label:'vsop_home_link',value:1});
    }} catch(_) {}
  });
  </script>
</body>
</html>
